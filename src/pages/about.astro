---
import { getEntry, render } from 'astro:content'
import Link from '@/components/Link'
import BaseLayout from '@/layouts/BaseLayout.astro'
import SEO from '@/components/SEO.astro'
const pageEntry = await getEntry('pages', 'about')
if (!pageEntry) {
	throw new Error('About page content not found in content/pages/about.mdx')
}
const page = pageEntry
const { Content } = await render(page as any)
const description = page.data.description || 'About Ritik'
const personJsonLd = {
	'@context': 'https://schema.org',
	'@type': 'Person',
	name: page.data.name ?? 'Ritik',
	jobTitle: 'DevOps / DevSecOps / AI Infrastructure Engineer',
	url: 'https://www.linkedin.com/in/ritik-devops',
	email: `mailto:${page.data.email ?? 'ritikvirus6@gmail.com'}`,
	telephone: page.data.telephone ?? '+91-8920279167',
	address: { '@type': 'PostalAddress', addressLocality: 'Delhi', addressCountry: 'IN' },
	sameAs: page.data.sameAs ?? ['https://www.linkedin.com/in/ritik-devops']
}
---

<BaseLayout>
						<SEO title={`${page.data.title || 'About Ritik'}`} description={description} slot='seo' />
	<script
		is:inline
		type='application/ld+json'
		set:html={JSON.stringify(personJsonLd)}
		slot='head'
	/>

		<!-- Hero header: name, title, contact -->
		<header class='mt-6 flex flex-col gap-3'>
			<h1 class='font-heading text-[clamp(1.8rem,5vw,2.2rem)] font-semibold leading-tight'>
				{page.data.name ?? 'Ritik'}
			</h1>
			<p class='text-zinc-300 max-w-prose'>
				{page.data.description ?? 'DevOps / DevSecOps / AI Infrastructure Engineer'}
			</p>
			<ul class='mt-2 flex flex-wrap gap-4 text-sm text-zinc-400'>
				{page.data.location && <li>{page.data.location}</li>}
				{page.data.email && (
					<li>
						<Link href={`mailto:${page.data.email}`} class='!text-zinc-300'>
							{page.data.email}
						</Link>
					</li>
				)}
				{page.data.telephone && (
					<li>
						<Link href={`tel:${page.data.telephone}`} class='!text-zinc-300'>
							{page.data.telephone}
						</Link>
					</li>
				)}
				{(page.data.sameAs?.[0]) && (
					<li>
					<Link href={page.data.sameAs[0]} class='!text-zinc-300' target='_blank' rel='noopener noreferrer'>
							LinkedIn
						</Link>
					</li>
				)}
			</ul>
		</header>

		<section class='prose prose-invert max-w-none mt-8'>
			<Content />
		</section>
</BaseLayout>
