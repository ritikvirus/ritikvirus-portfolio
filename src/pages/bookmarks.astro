---
import BaseLayout from '@/layouts/BaseLayout.astro'
import SEO from '@/components/SEO.astro'
import BlogCard from '@/components/BlogCard.astro'
import { getCollection, type CollectionEntry } from 'astro:content'

const title = 'Bookmarks'
const description = 'Latest articles I’m saving for you — the freshest posts from my blog.'

const posts = (await getCollection('blog')).sort((a: CollectionEntry<'blog'>, b: CollectionEntry<'blog'>) =>
	new Date(b.data.updatedDate || b.data.pubDate).getTime() -
	new Date(a.data.updatedDate || a.data.pubDate).getTime()
)
---

<BaseLayout>
	<SEO title={title} description={description} slot='seo' />

	<section class='space-y-8'>
		<h1 class='font-heading text-2xl font-semibold'>Bookmarks</h1>
		<p class='text-zinc-400'>Always the latest from my blog — easy to revisit and share.</p>

		<div class='divide-y divide-zinc-900'>
			{posts.map((p) => <BlogCard {...p} />)}
		</div>
	</section>
</BaseLayout>
